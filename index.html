<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finanzas Personales</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
<body>
    
    <div class="sidebar-menu" id="sidebarMenu">
        <div class="sidebar-header">
            <div class="profile-info">
                <img src="https://via.placeholder.com/60" alt="Perfil" class="profile-img">
                <div class="user-details">
                    <span class="user-name">Usuario Demo</span>
                    <span class="user-phone">+1 (555) 123-4567</span>
                </div>
            </div>
            <button class="mode-toggle">‚òÄÔ∏è</button>
        </div>
        <nav class="sidebar-nav">
            <a href="#" onclick="showSection('accounts')"><i class="fas fa-wallet"></i> üí≥ Cuentas</a>
            <a href="#" id="transactionsMenuBtn" onclick="showSection('transactions')"><i class="fas fa-exchange-alt"></i> üí∏ Transacciones</a>
            <a href="#" onclick="showSection('types')"><i class="fas fa-tags"></i> üè∑Ô∏è Tipos de Mov.</a>
            <a href="#" onclick="showSection('charts')"><i class="fas fa-chart-line"></i> üìà Gr√°ficos</a>
            <a href="#" onclick="showSection('settings')"><i class="fas fa-cog"></i> ‚öôÔ∏è Configuraci√≥n</a>
        </nav>
    </div>
    <div class="menu-overlay" id="menuOverlay" onclick="closeSidebar()"></div>

    <div id="contentWrapper" class="content-wrapper">
        <header class="main-header">
            <button class="menu-toggle" id="menuToggle">‚ò∞</button>
            <h1 class="header-title">Finanzas</h1>
        </header>

        <main>
            <section id="accountsSection" class="section">
                <h2>Mis Cuentas</h2>
                <button class="btn-add" id="addAccountBtn">‚ûï A√±adir Cuenta</button>
                <ul id="accountList">
                    </ul>
            </section>

            <section id="transactionsSection" class="section" style="display:none;">
                <h2>Transacciones</h2>
                <div class="filters">
                    <label>Cuenta:
                        <select id="accountFilterSelect"></select>
                    </label>
                    <label>Desde:
                        <input type="date" id="fromDate">
                    </label>
                    <label>Hasta:
                        <input type="date" id="toDate">
                    </label>
                </div>
                <p>Balance de la Cuenta Seleccionada: <span id="balance">$0.00</span></p>
                <button class="btn-add" id="addTransactionBtn">‚ûï Registrar Movimiento</button>
                <ul id="transactionList">
                    </ul>
            </section>

            <section id="typesSection" class="section" style="display:none;">
                <h2>Tipos de Movimiento</h2>
                <button class="btn-add" id="addTypeBtn">‚ûï A√±adir Tipo</button>
                <ul id="typeList">
                    </ul>
            </section>

            <section id="chartsSection" class="section" style="display:none;">
                <h2>An√°lisis Gr√°fico</h2>
                <div class="filters">
                    <label>Cuenta para gr√°fico:
                        <select id="chartAccountSelect" onchange="loadChart()"></select>
                    </label>

    <label>Desde: <input type="date" id="chartFrom" onchange="loadChart()"></label>
    <label>Hasta: <input type="date" id="chartTo" onchange="loadChart()"></label>
                </div>
                <canvas id="balanceChart"></canvas>
                  <canvas id="chartCanvas"></canvas>
            </section>

            <section id="settingsSection" class="section" style="display:none;">
                <h2>Configuraci√≥n</h2>
                <p>Opciones de configuraci√≥n de la aplicaci√≥n.</p>
            </section>
        </main>
    </div>


    <div id="modalAccount" class="modal">
        <div class="modal-content">
            <h3>Guardar Cuenta</h3>
            <input type="text" id="accountNameInput" placeholder="Nombre de la cuenta" required>
            <input type="text" id="accountDescInput" placeholder="Descripci√≥n (opcional)">
            <div style="display:flex; gap:10px;">
                <button id="saveAccountBtn">Guardar</button>
                <button class="modal-cancel" onclick="closeModal('modalAccount')">Cancelar</button>
            </div>
        </div>
    </div>

    <div id="modalTransaction" class="modal">
        <div class="modal-content">
            <h3>Registrar Transacci√≥n</h3>
            <input type="number" id="transactionAmountInput" placeholder="Monto" step="0.01" required>
            <input type="text" id="transactionDescInput" placeholder="Detalle/Descripci√≥n">
            <select id="transactionTypeSelect"></select>
            <div style="display:flex; gap:10px;">
                <button id="saveTransactionBtn">Guardar</button>
                <button class="modal-cancel" onclick="closeModal('modalTransaction')">Cancelar</button>
            </div>
        </div>
    </div>

    <div id="modalType" class="modal">
        <div class="modal-content">
            <h3>Guardar Tipo de Movimiento</h3>
            <input type="text" id="typeNameInput" placeholder="Nombre del Tipo (ej: Alquiler)" required>
            <label>Tipo:
                <select id="typeSignInput">
                    <option value="+">Entrada (+)</option>
                    <option value="-">Salida (-)</option>
                </select>
            </label>
            <div style="display:flex; gap:10px;">
                <button id="saveTypeBtn">Guardar</button>
                <button class="modal-cancel" onclick="closeModal('modalType')">Cancelar</button>
            </div>
        </div>
    </div>
    
    <script src="js/app.js"></script>
    <script src="js/charts.js"></script>

    <script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js")
  .then(()=>console.log("Service Worker registrado"))
  .catch(err=>console.log("Error:",err));
}
</script>
</body>
</html>